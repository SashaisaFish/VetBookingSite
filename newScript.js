// QQ OBJECT ARRAYS

const cat = [
  {
    Species: "cat",
    ID: "1",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Catinsidemouth.jpg/800px-Catinsidemouth.jpg",
    Price: "£20",
  },
  {
    Species: "cat",
    ID: "2",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/7/76/TapetumLucidum.JPG/1024px-TapetumLucidum.JPG",
    Price: "£20",
  },
  {
    Species: "cat",
    ID: "3",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/b/bb/Kittyply_edit1.jpg/1024px-Kittyply_edit1.jpg",
    Price: "£20",
  },
  {
    Species: "cat",
    ID: "4",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/4/4f/Felis_silvestris_catus_lying_on_rice_straw.jpg/1024px-Felis_silvestris_catus_lying_on_rice_straw.jpg",
    Price: "£20",
  },
  {
    Species: "cat",
    ID: "5",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/5/5e/Domestic_Cat_Face_Shot.jpg/1024px-Domestic_Cat_Face_Shot.jpg",
    Price: "£20",
  },
  {
    Species: "cat",
    ID: "6",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/3/3b/Gato_enervado_pola_presencia_dun_can.jpg/1024px-Gato_enervado_pola_presencia_dun_can.jpg",
    Price: "£20",
  },
  {
    Species: "cat",
    ID: "7",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/b/b5/1dayoldkitten.JPG",
    Price: "£20",
  },
  {
    Species: "cat",
    ID: "8",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Felis_catus-cat_on_snow.jpg/1024px-Felis_catus-cat_on_snow.jpg",
    Price: "£20",
  },
  {
    Species: "cat",
    ID: "9",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/9/97/Feral_cat_Virginia_crop.jpg/800px-Feral_cat_Virginia_crop.jpg",
    Price: "£20",
  },
  {
    Species: "cat",
    ID: "10",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Black_Cat_%287983739954%29.jpg/1024px-Black_Cat_%287983739954%29.jpg",
    Price: "£20",
  },
];
const dog = [
  {
    Species: "dog",
    ID: "1",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/6/62/Big_and_little_dog.jpg",
    Price: "£35",
  },
  {
    Species: "dog",
    ID: "2",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/f/f1/S%C3%A4ugende_H%C3%BCndin.JPG/1024px-S%C3%A4ugende_H%C3%BCndin.JPG",
    Price: "£35",
  },
  {
    Species: "dog",
    ID: "3",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/a/af/Golden_retriever_eating_pigs_foot.jpg",
    Price: "£35",
  },
  {
    Species: "dog",
    ID: "4",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/f/fb/Long_haired_German_Sheppard.jpg/800px-Long_haired_German_Sheppard.jpg",
    Price: "£35",
  },
  {
    Species: "dog",
    ID: "5",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/7/78/Bouvier_Bernois_BE.jpg/1024px-Bouvier_Bernois_BE.jpg",
    Price: "£35",
  },
  {
    Species: "dog",
    ID: "6",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/8/87/Bvdb-bassethound1.jpg",
    Price: "£35",
  },
  {
    Species: "dog",
    ID: "7",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/c/c7/9_week_old_cairn_puppy.jpg",
    Price: "£35",
  },
  {
    Species: "dog",
    ID: "8",
    Image: "https://upload.wikimedia.org/wikipedia/commons/4/4a/Leonberger.jpg",
    Price: "£35",
  },
  {
    Species: "dog",
    ID: "9",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/f/f8/Black_and_White_French_Brittany.jpg/1024px-Black_and_White_French_Brittany.jpg",
    Price: "£35",
  },
  {
    Species: "dog",
    ID: "10",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/9/95/Warmly_Clothed_Westie_Puppy.jpg/1024px-Warmly_Clothed_Westie_Puppy.jpg",
    Price: "£35",
  },
];
const largeCat = [
  {
    Species: "large-cat",
    ID: "1",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/8/81/2012_Suedchinesischer_Tiger.JPG/1024px-2012_Suedchinesischer_Tiger.JPG",
    Price: "£150",
  },
  {
    Species: "large-cat",
    ID: "2",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/9/9e/Lion_%28Panthera_leo%29_male_6y.jpg/800px-Lion_%28Panthera_leo%29_male_6y.jpg",
    Price: "£150",
  },
  {
    Species: "large-cat",
    ID: "3",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/6/63/Jaguar_%28Panthera_onca_palustris%29_female_Piquiri_River.JPG/1024px-Jaguar_%28Panthera_onca_palustris%29_female_Piquiri_River.JPG",
    Price: "£150",
  },
  {
    Species: "large-cat",
    ID: "4",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/7/70/African_leopard_male_%28cropped%29.jpg/1024px-African_leopard_male_%28cropped%29.jpg",
    Price: "£150",
  },
  {
    Species: "large-cat",
    ID: "5",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/1/19/Snow_leopard_portrait.jpg/1024px-Snow_leopard_portrait.jpg",
    Price: "£150",
  },
  {
    Species: "large-cat",
    ID: "6",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/0/09/TheCheethcat.jpg/800px-TheCheethcat.jpg",
    Price: "£150",
  },
  {
    Species: "large-cat",
    ID: "7",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/5/5a/P-35_and_the_Bears_%2825382928560%29.jpg/1024px-P-35_and_the_Bears_%2825382928560%29.jpg",
    Price: "£150",
  },
  {
    Species: "large-cat",
    ID: "8",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/4/4b/Lynx_du_Canada_.jpg",
    Price: "£150",
  },
  {
    Species: "large-cat",
    ID: "9",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Serval_%288373405687%29.jpg/1024px-Serval_%288373405687%29.jpg",
    Price: "£150",
  },
  {
    Species: "large-cat",
    ID: "10",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/f/f8/Ocelot_%28Jaguatirica%29_Zoo_Itatiba.jpg/1024px-Ocelot_%28Jaguatirica%29_Zoo_Itatiba.jpg",
    Price: "£150",
  },
];
const reptile = [
  {
    Species: "reptile",
    ID: "1",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/a/aa/A._gigantea_Aldabra_Giant_Tortoise.jpg/1024px-A._gigantea_Aldabra_Giant_Tortoise.jpg",
    Price: "£30",
  },
  {
    Species: "reptile",
    ID: "2",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/7/70/Tuatara_%285205719005%29.jpg/1024px-Tuatara_%285205719005%29.jpg",
    Price: "£30",
  },
  {
    Species: "reptile",
    ID: "3",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/7/76/Dendroaspis_polylepis_%2814%29.jpg/1024px-Dendroaspis_polylepis_%2814%29.jpg",
    Price: "£30",
  },
  {
    Species: "reptile",
    ID: "4",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/f/f6/Green_Iguana_Basking.jpg/800px-Green_Iguana_Basking.jpg",
    Price: "£30",
  },
  {
    Species: "reptile",
    ID: "5",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/e/e7/Cordylus_breyeri1.jpg",
    Price: "£30",
  },
  {
    Species: "reptile",
    ID: "6",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/f/f3/Crocodylus_mindorensis_by_Gregg_Yan_01.jpg/1024px-Crocodylus_mindorensis_by_Gregg_Yan_01.jpg",
    Price: "£130",
  },
  {
    Species: "reptile",
    ID: "7",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/2/23/Rotbauchspitzkopfschildkroete-07.jpg",
    Price: "£30",
  },
  {
    Species: "reptile",
    ID: "8",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/b/b0/Eretmochelys-imbricata-K%C3%A9lonia-2.JPG/1024px-Eretmochelys-imbricata-K%C3%A9lonia-2.JPG",
    Price: "£30",
  },
  {
    Species: "reptile",
    ID: "9",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/d/dd/Blue-toungued_skink444.jpg/1024px-Blue-toungued_skink444.jpg",
    Price: "£30",
  },
  {
    Species: "reptile",
    ID: "10",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/f/f1/Frill-necked_Lizard_%28Chlamydosaurus_kingii%29_%288692622586%29.jpg/1024px-Frill-necked_Lizard_%28Chlamydosaurus_kingii%29_%288692622586%29.jpg",
    Price: "£30",
  },
];
const bird = [
  {
    Species: "bird",
    ID: "1",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/7/72/Igel.JPG/1024px-Igel.JPG",
    Price: "£15",
  },
  {
    Species: "bird",
    ID: "2",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e9/Short-beaked_echidna_in_ANBG.jpg/1024px-Short-beaked_echidna_in_ANBG.jpg",
    Price: "£15",
  },
  {
    Species: "bird",
    ID: "3",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/4/44/Kret_mole.jpg/1024px-Kret_mole.jpg",
    Price: "£15",
  },
  {
    Species: "bird",
    ID: "4",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/e/ec/Capybara_%28Hydrochoerus_hydrochaeris%29.JPG/1024px-Capybara_%28Hydrochoerus_hydrochaeris%29.JPG",
    Price: "£15",
  },
  {
    Species: "bird",
    ID: "5",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/3/3e/Raccoon_in_Central_Park_%2835264%29.jpg/1024px-Raccoon_in_Central_Park_%2835264%29.jpg",
    Price: "£15",
  },
  {
    Species: "bird",
    ID: "6",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/d/d3/Fischotter%2C_Lutra_Lutra.JPG",
    Price: "£15",
  },
  {
    Species: "bird",
    ID: "7",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e3/Mustela_nivalis_-British_Wildlife_Centre-4.jpg/1024px-Mustela_nivalis_-British_Wildlife_Centre-4.jpg",
    Price: "£15",
  },
  {
    Species: "bird",
    ID: "8",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/c/cd/Peach_the_pet_hamster.jpg",
    Price: "£15",
  },
  {
    Species: "bird",
    ID: "9",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Mouse-deer_Singapore_Zoo_2012.JPG/800px-Mouse-deer_Singapore_Zoo_2012.JPG",
    Price: "£15",
  },
  {
    Species: "bird",
    ID: "10",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/1/11/Actinopyga_echinites1.jpg/1024px-Actinopyga_echinites1.jpg",
    Price: "£15",
  },
];
const smallAnimal = [
  {
    Species: "small-animal",
    ID: "1",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/7/72/Igel.JPG/1024px-Igel.JPG",
    Price: "£15",
  },
  {
    Species: "small-animal",
    ID: "2",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e9/Short-beaked_echidna_in_ANBG.jpg/1024px-Short-beaked_echidna_in_ANBG.jpg",
    Price: "£15",
  },
  {
    Species: "small-animal",
    ID: "3",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/4/44/Kret_mole.jpg/1024px-Kret_mole.jpg",
    Price: "£15",
  },
  {
    Species: "small-animal",
    ID: "4",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/e/ec/Capybara_%28Hydrochoerus_hydrochaeris%29.JPG/1024px-Capybara_%28Hydrochoerus_hydrochaeris%29.JPG",
    Price: "£15",
  },
  {
    Species: "small-animal",
    ID: "5",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/3/3e/Raccoon_in_Central_Park_%2835264%29.jpg/1024px-Raccoon_in_Central_Park_%2835264%29.jpg",
    Price: "£15",
  },
  {
    Species: "small-animal",
    ID: "6",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/d/d3/Fischotter%2C_Lutra_Lutra.JPG",
    Price: "£15",
  },
  {
    Species: "small-animal",
    ID: "7",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e3/Mustela_nivalis_-British_Wildlife_Centre-4.jpg/1024px-Mustela_nivalis_-British_Wildlife_Centre-4.jpg",
    Price: "£15",
  },
  {
    Species: "small-animal",
    ID: "8",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/c/cd/Peach_the_pet_hamster.jpg",
    Price: "£15",
  },
  {
    Species: "small-animal",
    ID: "9",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Mouse-deer_Singapore_Zoo_2012.JPG/800px-Mouse-deer_Singapore_Zoo_2012.JPG",
    Price: "£15",
  },
  {
    Species: "small-animal",
    ID: "10",
    Image:
      "https://upload.wikimedia.org/wikipedia/commons/thumb/1/11/Actinopyga_echinites1.jpg/1024px-Actinopyga_echinites1.jpg",
    Price: "£15",
  },
];

// QQ CONSTANTS

const calendar = document.getElementById("calendar-container");
const form = document.getElementById("your-pet");

// create x button with x-button id
const xButton = document.createElement("button");
xButton.setAttribute("class", "x-button");

// QQ EVENT LISTENER

form.addEventListener("submit", (event) => {
  event.preventDefault();

  const data = new FormData(form);
  const date = data.get("ap-date");
  const dd = `${date[8]}${date[9]}`;

  createSlot(dd);
});

// QQ MAIN FUNCTIONS

createDays(31);

function createDays(monthlength) {
  for (let i = 1; i <= monthlength; i++) {
    // create day element
    const day = document.createElement("div");
    day.setAttribute("id", `day-${i < 10 ? `0${i}` : i}`);
    day.classList.add("day", "mali", "border-thin", "entry");
    // create number element
    const num = document.createElement("p");
    num.classList.add("number");
    num.innerText = i;
    // append
    day.append(num);
    calendar.append(day);
  }
}

function createSlot(dd) {
  const data = new FormData(form);

  // get data from form
  const petName = data.get("pet-name");
  const apTime = data.get("ap-time");
  const petId = data.get("pet-id");
  const petSpecies = data.get("species");

  const dayDD = document.getElementById(`day-${dd}`);

  // create elements
  const bookedSlot = document.createElement("div");
  const petNameText = document.createElement("p");
  const timeText = document.createElement("p");
  const petDetailsDiv = document.createElement("div");
  const petIdText = document.createElement("p");
  const petSpeciesText = document.createElement("p");

  // set attribute IDs
  petDetailsDiv.setAttribute("class", `details-${petId}-${petSpecies}`);
  bookedSlot.setAttribute("onclick", "openSlot(this)");

  // set classes
  bookedSlot.classList.add(
    "booked-slot",
    "mali",
    "border-thin",
    "dark",
    "light-font"
  );
  petDetailsDiv.classList.add("details", "hidden");

  // give inner text
  petNameText.innerText = petName;
  timeText.innerText = apTime;
  petIdText.innerText = `ID: ${petId}`;
  petSpeciesText.innerText = petSpecies;

  // append
  dayDD.append(bookedSlot);
  bookedSlot.append(petNameText, timeText, petDetailsDiv);
  petDetailsDiv.append(petIdText, petSpeciesText);

  // get image source and price from object based on id and species
  getInfo(petSpecies, petId);
}

function getInfo(petSpecies, petId) {
  // get correct array based on petSpecies
  if (petSpecies === "cat") {
    species = cat;
  } else if (petSpecies === "dog") {
    species = dog;
  } else if (petSpecies === "reptile") {
    species = reptile;
  } else if (petSpecies === "bird") {
    species = bird;
  } else if (petSpecies === "largeCat") {
    species = largeCat;
  } else if (petSpecies === "smallAnimal") {
    species = smallAnimal;
  }

  // find correct object (petid in correct array)
  const pet = species.find(({ ID }) => ID === petId);
  const price = pet.Price;
  const image = pet.Image;

  // create price element
  const priceText = document.createElement("p");
  priceText.innerText = price;

  // create image element
  const petImage = document.createElement("img");
  setupImage(petImage, image, petSpecies);

  // find details div and append
  const petDetailsDiv = document.querySelector(
    `.details-${petId}-${petSpecies}`
  );
  petDetailsDiv.append(priceText, petImage);
}

function openSlot(element) {
  // get elements
  const petDetailsDiv = element.querySelector(":scope > div");
  // toggle classes
  element.classList.toggle("booked-slot-big");
  petDetailsDiv.classList.toggle("hidden");
}

// QQ HELPER FUNCTIONS

function setupImage(imgElem, url, alt) {
  imgElem.src = url;
  imgElem.setAttribute("alt", alt);
}
